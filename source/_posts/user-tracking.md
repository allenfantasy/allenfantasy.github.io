title: "网站统计那些事"
date: 2016-04-16
tags:
- JavaScript
- user tracking
---

首先要声明的是，这里的 user tracking 特指网页的统计脚本。本文不讨论移动 App 上的统计（如果有时间会专门再写一篇）。关于网页的统计业界早已经有先行者：国外有 GA，国内有百度统计和 cnzz。之所以需要自己做一个的原因，是出于公司内部的一些定制的需求和指标上的差异。

为了方便指代，下文用 UT 来代替 user tracking，特指网站统计。

## WHY

对于公司来说，UT 的目的有：

1. 了解网站/网页的热度
2. 对访客进行分析（访客的地域分布，使用的设备等）
3. 监控网站自身变化对访客产生的影响
  * 上线新的版面
  * 对某种功能特性进行 A/B Testing
  * bla...
4. 访客在页面上的行为（点击，高亮等等）

一言蔽之，就是 ***为网站运营和开发者提供数据参考***。

## WHAT

1. 在需要搜集访客数据的网页中，安放 js 脚本
2. js 脚本向远程服务器上报数据
3. 写入日志
4. 离线分析

为了满足上一节提到的需求，UT 需要尽可能的采集到网页访客的数据，这里可以分成三个维度来看待：

1. 时间
2. 空间（地域）
3. 具体指标，如访客所使用的浏览器，操作系统，手机型号等等。
